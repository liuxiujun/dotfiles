" .ideavimrc is a configuration file for IdeaVim plugin. It uses
"   the same commands as the original .vimrc configuration.
" You can find a list of commands here: https://jb.gg/h38q75
" Find more examples here: https://jb.gg/share-ideavimrc

let mapleader = ","

"" basic stuff
set clipboard+=unnamed
" set relativenumber
set scrolloff=5
set incsearch
set idearefactormode=visual
set showmode
set showcmd
set ignorecase smartcase
set visualbell

" --- Enable IdeaVim plugins https://jb.gg/ideavim-plugins
" Plug 'easymotion/vim-easymotion' "require ideavim-easymotion and AceJump Plugins By JetBrains
" Plug 'machakann/vim-highlightedyank'
" Plug 'kana/vim-textobj-user'
" Plug 'kana/vim-textobj-entire'
" Plug 'tpope/vim-commentary'
" Plug 'preservim/nerdtree'
set easymotion
set highlightedyank
set textobj-entire
set commentary
set nerdtree
set which-key

" which-key
set notimeout
let g:WhichKeyDesc_commentray_prefix = "gc"
let g:WhichKeyDesc_commentray_action = "gcc"
let g:WhichKey_ShowVimAction = "true"

"" Key Mappings
" basic stuff
nnoremap <leader>s :write<CR>

" code refactoring
:map <leader>rr <Action>(RenameElement)
:map <leader>RR <Action>(Refactorings.QuickListPopupAction)
:map <leader>sw <Action>(SurroundWith)
:map <leader>oi <Action>(OptimizeImports)

"" easymotion
" let g:EasyMotion_do_mapping=0
" map  <leader>f <Plug>(easymotion-bd-f)
" nmap <leader>f <Plug>(easymotion-overwin-f)
" nmap s <Plug>(easymotion-overwin-f2)
" map <leader>L <Plug>(easymotion-bd-jk)
" nmap <leader>L <Plug>(easymotion-overwin-line)
" mFindap  <leader>w <Plug>(easymotion-bd-w)
" nmap <leader>w <Plug>(easymotion-overwin-w)

map <leader>d <Action>(Debug)
map <leader>r <Action>(RenameElement)
map <leader>c <Action>(Stop)
map <leader>z <Action>(ToggleDistractionFreeMode)

map <leader>a <Action>(Annotate)
map <leader>h <Action>(Vcs.ShowTabbedFileHistory)
map <S-Space> <Action>(GotoNextError)

map <leader>b <Action>(ToggleLineBreakpoint)
map <leader>o <Action>(FileStructurePopup)

" NERDTree
let g:WhichKeyDesc_NREDTree = "<leader>t NERDTree" 
map <leader>tt :NERDTreeToggle<CR>
map <leader>tc :NERDTreeClose<CR>
map <leader>to :NERDTreeFocus<CR>
map <leader>tf :NERDTreeFind<CR>
map <leader>tr :NERDTreeRefreshRoot<CR>

" switch between tabs
nnoremap <C-Right> :tabn<CR>
nnoremap <C-Left> :tabp<CR>

" source
:map <leader>9 <Action>(IdeaVim.ReloadVimRc.reload)

""" Shortcut Conflicts for Active Keymap ----
sethandler <C-2> a:vim
sethandler <C-S-2> a:vim
sethandler <C-6> a:vim
sethandler <C-S-6> a:vim
sethandler <C-;> a:vim
sethandler <C-S-;> a:vim
sethandler <C-A> a:vim
sethandler <C-B> a:vim
sethandler <C-C> a:vim
sethandler <C-D> a:vim
sethandler <C-E> a:vim
sethandler <C-F> a:vim
sethandler <C-G> a:vim
sethandler <C-H> a:vim
sethandler <C-I> a:vim
sethandler <C-J> a:vim
sethandler <C-K> a:vim
sethandler <C-L> a:vim
sethandler <C-M> a:vim
sethandler <C-N> a:vim
sethandler <C-O> a:vim
sethandler <C-P> a:vim
sethandler <C-Q> a:vim
sethandler <C-R> a:vim
sethandler <C-S> a:vim
sethandler <C-T> a:vim
sethandler <C-U> a:vim
sethandler <C-V> a:vim
sethandler <C-W> a:vim
sethandler <C-X> a:vim
sethandler <C-Y> a:vim
sethandler <C-[> a:vim
sethandler <C-\> a:vim
sethandler <C-]> a:vim
